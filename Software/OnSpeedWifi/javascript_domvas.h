const char jsDomvas[] PROGMEM = R"=====(
<script language="javascript" type="text/javascript">
"use strict";!function(){var t=""!==getComputedStyle(document.body).cssText;function e(e,s,n){var o=getComputedStyle(s);if(t)e.style.cssText=o.cssText;else for(var r in o)isNaN(parseInt(r,10))&&"function"!=typeof o[r]&&!/^(cssText|length|parentRule)$/.test(r)&&(e.style[r]=o[r])}window.domvas={toImage:function(t,s,n,o,r,i){r=r||0,i=i||0;var l=t.cloneNode(!0);!function(t,s){var n=t.querySelectorAll("*"),o=s.querySelectorAll("*");e(t,s),Array.prototype.forEach.call(n,(function(t,s){e(t,o[s])})),t.style.margin=t.style.marginLeft=t.style.marginTop=t.style.marginBottom=t.style.marginRight=""}(l,t),l.setAttribute("xmlns","http://www.w3.org/1999/xhtml");var a=(new XMLSerializer).serializeToString(l);a=a.replace(/\s+xmlns=["']http:\/\/www\.w3\.org\/2000\/xmlns\/["']/g,"");var g="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='"+((n||t.offsetWidth)+r)+"' height='"+((o||t.offsetHeight)+i)+"'><foreignObject width='100%' height='100%' x='"+r+"' y='"+i+"'>"+a+"</foreignObject></svg>",c=new Image;c.src=g,c.onload=function(){s&&s.call(this,this)}}}}();
</script>
)=====";
